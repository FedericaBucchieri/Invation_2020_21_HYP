<template>
  <div>
    <div class="left-image-decor"></div>
    <section id="introduction" class="section">
      <object-overview
        :name="vision.name"
        :img-path="vision.bigImage"
        :overview="vision.description"
        :paths-list="pathsList"
      >
      </object-overview>
    </section>
    <div class="right-image-decor"></div>
    <section id="innovations" class="section">
      <vision-guided-tour
        :items="vision.invations"
        typology="invations"
        :video="vision.video"
      ></vision-guided-tour>
    </section>
    <section id="invationers">
      <invationer-short-card-container
        title="Invationers that built this Vision"
        :card-list="vision.invationers"
      >
      </invationer-short-card-container>
    </section>
  </div>
</template>

<script>
import VisionGuidedTour from '../../components/vision/VisionGuidedTour.vue'
import ObjectOverview from '../../components/baseElements/ObjectOverview.vue'
import InvationerShortCardContainer from '~/components/invationer/InvationerShortCardContainer.vue'
export default {
  components: {
    ObjectOverview,
    VisionGuidedTour,
    InvationerShortCardContainer,
  },
  async asyncData({ $axios, route }) {
    const { id } = route.params
    const visionData = await $axios.get(
      `${process.env.BASE_URL}/api/visions/${id}`
    )
    const vision = visionData.data
    return {
      vision,
    }
  },
  data() {
    return {
      pathsList: [],
    }
  },
  mounted() {
    this.pathsList = [
      {
        path: '/visions',
        pathName: 'Visions',
      },
      {
        path: `/visions/${this.vision.id}`,
        pathName: `${this.vision.name}`,
      },
    ]
  },
  head() {
    return {
      title: 'Invation - ' + this.vision.name,
      meta: [
        {
          name: 'description',
          content: this.vision.description,
        },
        {
          hid: this.vision.numberTag,
          name: this.vision.name,
          content: this.vision.description,
        },
      ],
    }
  },
}
</script>

<style scoped>
#introduction .left-image {
  align-self: center;
}

#introduction .right-text ul {
  padding: 0;
  margin: 0;
}

#introduction .right-text ul li {
  display: inline-block;
  margin-bottom: 60px;
}

#introduction .right-text ul li:last-child {
  margin-bottom: 0px;
}

#introduction .right-text img {
  display: inline-block;
  margin-right: 30px;
}

#introduction .right-text h1 {
  font-weight: 900;
  font-size: 52px;
  line-height: 80px;
  letter-spacing: 1px;
  margin-top: 80px;
  margin-bottom: 30px;
  color: #191a20;
}

#introduction .right-text h1 em {
  font-style: normal;
  color: #fba70b;
}

#introduction .right-text h4 {
  font-size: 15px;
  line-height: 80px;
  letter-spacing: 1px;
  margin-bottom: 30px;
  color: #191a20;
}
</style>
